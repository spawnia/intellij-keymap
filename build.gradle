plugins {
    // https://plugins.gradle.org/plugin/org.jetbrains.intellij
    id 'org.jetbrains.intellij' version '0.7.2'
    // https://plugins.gradle.org/plugin/org.jetbrains.kotlin.jvm
    // Version selected due to https://youtrack.jetbrains.com/issue/KT-39668#focus=Comments-27-4586052.0-0
    id 'org.jetbrains.kotlin.jvm' version '1.3.72'
}

group 'spawnia'
version '4.4'

repositories {
    mavenCentral()
}

dependencies {
    implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk8"
}

// See https://github.com/JetBrains/gradle-intellij-plugin/
intellij {
    version '2021.1'
}

// https://plugins.jetbrains.com/docs/intellij/build-number-ranges.html#intellij-platform-based-products-of-recent-ide-versions
patchPluginXml {
    sinceBuild "211"
    untilBuild "211.*"
}

compileKotlin {
    kotlinOptions.jvmTarget = "11"
}

compileTestKotlin {
    kotlinOptions.jvmTarget = "11"
}

runPluginVerifier {
    ideVersions "2021.1"
}

publishPlugin {
    token intellijPublishToken
}
